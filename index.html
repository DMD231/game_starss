<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Penguin Casino</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0d6efd;
            --primary-dark: #0b5ed7;
            --success: #198754;
            --danger: #dc3545;
            --warning: #ffc107;
            --dark: #212529;
            --darker: #121416;
            --light: #f8f9fa;
            --casino-gold: #ffd700;
            --casino-red: #dc3545;
            --casino-green: #198754;
            --casino-purple: #6f42c1;
            --shadow: 0 10px 30px rgba(0,0,0,0.3);
            --radius: 16px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(13, 110, 253, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 20px 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, var(--casino-red), var(--casino-gold), var(--casino-green));
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--casino-red), var(--casino-gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
        }

        .logo-text h1 {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(to right, var(--casino-gold), var(--light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .logo-text p {
            font-size: 12px;
            opacity: 0.8;
            letter-spacing: 1px;
        }

        .stats {
            display: flex;
            gap: 30px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px 25px;
            text-align: center;
            min-width: 150px;
            transition: var(--transition);
        }

        .stat-box:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--casino-gold);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* Sidebar */
        .sidebar {
            background: rgba(13, 110, 253, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            height: fit-content;
            box-shadow: var(--shadow);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--casino-purple), var(--primary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: white;
            box-shadow: 0 5px 15px rgba(111, 66, 193, 0.4);
        }

        .user-info h3 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .user-info p {
            font-size: 12px;
            opacity: 0.7;
        }

        .menu {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
        }

        .menu-btn {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: transparent;
            border: 1px solid transparent;
            border-radius: 12px;
            color: var(--light);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
        }

        .menu-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .menu-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--casino-purple));
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3);
        }

        .menu-btn i {
            width: 24px;
            text-align: center;
        }

        .bonus-box {
            background: linear-gradient(135deg, var(--casino-red), #fd7e14);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
        }

        .bonus-box h3 {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .bonus-btn {
            background: var(--casino-gold);
            color: var(--dark);
            border: none;
            border-radius: 25px;
            padding: 12px 25px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .bonus-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .bonus-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Games Grid */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: var(--shadow);
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .game-header {
            padding: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
        }

        .game-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--casino-gold);
        }

        .game-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--light);
        }

        .game-description {
            font-size: 14px;
            opacity: 0.8;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-stat {
            text-align: center;
        }

        .stat-val {
            font-size: 18px;
            font-weight: 700;
            color: var(--casino-gold);
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.7;
            text-transform: uppercase;
        }

        /* Game Pages */
        .game-page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .game-page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .game-header-page {
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 500px;
        }

        /* Slots */
        .slots-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .slots-machine {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
        }

        .slot-reel {
            width: 120px;
            height: 160px;
            background: linear-gradient(135deg, var(--casino-purple), var(--primary));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            font-weight: 700;
            color: white;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 10px 20px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .slot-reel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            pointer-events: none;
        }

        .bet-controls {
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .bet-amount {
            font-size: 32px;
            font-weight: 700;
            color: var(--casino-gold);
            min-width: 120px;
            text-align: center;
        }

        .btn-control {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            border: none;
            color: white;
            font-size: 24px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-control:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .spin-btn {
            background: linear-gradient(135deg, var(--casino-red), #fd7e14);
            border: none;
            border-radius: 50px;
            padding: 20px 60px;
            font-size: 22px;
            font-weight: 800;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .spin-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(220, 53, 69, 0.4);
        }

        .spin-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Roulette */
        .roulette-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .roulette-wheel {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--casino-green), #198754);
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.8), 0 20px 40px rgba(0,0,0,0.4);
            border: 10px solid var(--casino-gold);
            margin: 30px auto;
            transition: transform 5s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        .roulette-number {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            text-align: center;
            color: white;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .roulette-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: var(--casino-red);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            z-index: 10;
        }

        .betting-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 5px;
            max-width: 600px;
            margin: 0 auto;
        }

        .bet-cell {
            padding: 15px 5px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 700;
            border: 2px solid transparent;
        }

        .bet-cell:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .bet-cell.selected {
            background: var(--casino-gold);
            color: var(--dark);
            border-color: white;
            box-shadow: 0 0 20px rgba(255,215,0,0.5);
        }

        /* Blackjack */
        .blackjack-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .cards-area {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
        }

        .player-area, .dealer-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .card-hand {
            display: flex;
            gap: 10px;
            min-height: 120px;
        }

        .card {
            width: 80px;
            height: 120px;
            background: white;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
        }

        .card.red {
            color: var(--casino-red);
        }

        .card.black {
            color: var(--dark);
        }

        .card-back {
            background: linear-gradient(135deg, var(--primary), var(--casino-purple));
            color: transparent;
        }

        .card-back::before {
            content: '?';
            position: absolute;
            color: rgba(255,255,255,0.3);
            font-size: 40px;
        }

        .blackjack-controls {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .game-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            min-width: 150px;
        }

        .game-btn.primary {
            background: linear-gradient(135deg, var(--primary), var(--casino-purple));
            color: white;
        }

        .game-btn.success {
            background: linear-gradient(135deg, var(--casino-green), #20c997);
            color: white;
        }

        .game-btn.danger {
            background: linear-gradient(135deg, var(--casino-red), #fd7e14);
            color: white;
        }

        .game-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Dice */
        .dice-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .dice-area {
            display: flex;
            gap: 40px;
            margin: 40px 0;
        }

        .dice {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .dot {
            width: 20px;
            height: 20px;
            background: var(--casino-red);
            border-radius: 50%;
            justify-self: center;
            align-self: center;
        }

        .dice-result {
            font-size: 48px;
            font-weight: 800;
            color: var(--casino-gold);
            text-align: center;
        }

        /* History */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255,255,255,0.05);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .history-table th, .history-table td {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .history-table th {
            background: rgba(255,255,255,0.1);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 12px;
        }

        .history-table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .result-win {
            color: var(--casino-green);
            font-weight: 700;
        }

        .result-loss {
            color: var(--casino-red);
            font-weight: 700;
        }

        /* Achievements */
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .achievement-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--radius);
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: var(--transition);
        }

        .achievement-card:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-5px);
        }

        .achievement-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--casino-gold), #ffed4e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--dark);
        }

        .achievement-card.locked .achievement-icon {
            background: rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.3);
        }

        .achievement-info h4 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .achievement-info p {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .achievement-progress {
            background: rgba(255,255,255,0.1);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--casino-green), var(--casino-gold));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--casino-green), var(--primary));
            color: white;
            padding: 20px 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 15px;
            max-width: 400px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.show {
            display: flex;
        }

        .notification i {
            font-size: 24px;
        }

        .notification-content h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: var(--radius);
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow);
            border: 2px solid var(--casino-gold);
            text-align: center;
        }

        .modal h2 {
            font-size: 32px;
            margin-bottom: 20px;
            color: var(--casino-gold);
        }

        .modal p {
            font-size: 18px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            margin-top: 50px;
            font-size: 14px;
            opacity: 0.7;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--casino-gold);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 2;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .stats {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .game-header-page {
                padding: 20px;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .slots-machine {
                gap: 10px;
            }
            
            .slot-reel {
                width: 80px;
                height: 120px;
                font-size: 40px;
            }
            
            .roulette-wheel {
                width: 300px;
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <div class="logo-text">
                    <h1>LUCKY PENGUIN CASINO</h1>
                    <p>ИГРАЙ С УМОМ • ВЫИГРЫВАЙ БОЛЬШОЕ</p>
                </div>
            </div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="balance">10,000</div>
                    <div class="stat-label">Баланс</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="level">1</div>
                    <div class="stat-label">Уровень</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="wins">0</div>
                    <div class="stat-label">Побед</div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="user-profile">
                    <div class="avatar">П</div>
                    <div class="user-info">
                        <h3>Игрок #001</h3>
                        <p>VIP Статус: Новичок</p>
                    </div>
                </div>
                
                <nav class="menu">
                    <button class="menu-btn active" onclick="showPage('dashboard')">
                        <i class="fas fa-home"></i>
                        <span>Главная</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('slots')">
                        <i class="fas fa-slot-machine"></i>
                        <span>Слоты</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('roulette')">
                        <i class="fas fa-dharmachakra"></i>
                        <span>Рулетка</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('blackjack')">
                        <i class="fas fa-club"></i>
                        <span>Блекджек</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('dice')">
                        <i class="fas fa-dice"></i>
                        <span>Кости</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('history')">
                        <i class="fas fa-history"></i>
                        <span>История</span>
                    </button>
                    <button class="menu-btn" onclick="showPage('achievements')">
                        <i class="fas fa-trophy"></i>
                        <span>Достижения</span>
                    </button>
                </nav>
                
                <div class="bonus-box">
                    <h3>Ежедневный бонус</h3>
                    <button class="bonus-btn" id="dailyBonus" onclick="claimDailyBonus()">
                        <i class="fas fa-gift"></i> Забрать 500 ₿
                    </button>
                    <p id="bonusTimer" style="margin-top: 10px; font-size: 12px;"></p>
                </div>
            </aside>

            <!-- Content Area -->
            <main class="content-area">
                <!-- Dashboard -->
                <div id="dashboard" class="game-page active">
                    <div class="game-header-page">
                        <h2><i class="fas fa-crown"></i> Добро пожаловать в Lucky Penguin Casino!</h2>
                        <p>Выберите игру и испытайте удачу. Играйте ответственно!</p>
                    </div>
                    
                    <div class="games-grid">
                        <!-- Слоты -->
                        <div class="game-card" onclick="showPage('slots')">
                            <div class="game-header">
                                <div class="game-icon"><i class="fas fa-slot-machine"></i></div>
                                <h3 class="game-title">СЛОТЫ</h3>
                                <p class="game-description">Классические игровые автоматы с высокими коэффициентами выигрыша</p>
                            </div>
                            <div class="game-stats">
                                <div class="game-stat">
                                    <div class="stat-val">x1000</div>
                                    <div class="stat-label">Макс выигрыш</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">96.5%</div>
                                    <div class="stat-label">RTP</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">Лёгкая</div>
                                    <div class="stat-label">Сложность</div>
                                </div>
                            </div>
                        </div>

                        <!-- Рулетка -->
                        <div class="game-card" onclick="showPage('roulette')">
                            <div class="game-header">
                                <div class="game-icon"><i class="fas fa-dharmachakra"></i></div>
                                <h3 class="game-title">РУЛЕТКА</h3>
                                <p class="game-description">Европейская рулетка с 37 секторами и разнообразными ставками</p>
                            </div>
                            <div class="game-stats">
                                <div class="game-stat">
                                    <div class="stat-val">x35</div>
                                    <div class="stat-label">Макс выигрыш</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">97.3%</div>
                                    <div class="stat-label">RTP</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">Средняя</div>
                                    <div class="stat-label">Сложность</div>
                                </div>
                            </div>
                        </div>

                        <!-- Блекджек -->
                        <div class="game-card" onclick="showPage('blackjack')">
                            <div class="game-header">
                                <div class="game-icon"><i class="fas fa-club"></i></div>
                                <h3 class="game-title">БЛЕКДЖЕК</h3>
                                <p class="game-description">Классическая карточная игра против дилера, дойдите до 21!</p>
                            </div>
                            <div class="game-stats">
                                <div class="game-stat">
                                    <div class="stat-val">x1.5</div>
                                    <div class="stat-label">Выигрыш</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">99.5%</div>
                                    <div class="stat-label">RTP</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">Сложная</div>
                                    <div class="stat-label">Сложность</div>
                                </div>
                            </div>
                        </div>

                        <!-- Кости -->
                        <div class="game-card" onclick="showPage('dice')">
                            <div class="game-header">
                                <div class="game-icon"><i class="fas fa-dice"></i></div>
                                <h3 class="game-title">КОСТИ</h3>
                                <p class="game-description">Бросьте кости и угадайте результат. Просто и увлекательно!</p>
                            </div>
                            <div class="game-stats">
                                <div class="game-stat">
                                    <div class="stat-val">x30</div>
                                    <div class="stat-label">Макс выигрыш</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">95.0%</div>
                                    <div class="stat-label">RTP</div>
                                </div>
                                <div class="game-stat">
                                    <div class="stat-val">Лёгкая</div>
                                    <div class="stat-label">Сложность</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Слоты -->
                <div id="slots" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-slot-machine"></i> ИГРОВЫЕ АВТОМАТЫ</h2>
                        <p>Крутите барабаны и выигрывайте большие призы!</p>
                    </div>
                    
                    <div class="game-content">
                        <div class="slots-container">
                            <div class="slots-machine">
                                <div class="slot-reel" id="reel1">7</div>
                                <div class="slot-reel" id="reel2">7</div>
                                <div class="slot-reel" id="reel3">7</div>
                            </div>
                            
                            <div class="bet-controls">
                                <button class="btn-control" onclick="changeBet(-100)">-</button>
                                <div>
                                    <div style="font-size: 14px; opacity: 0.7;">СТАВКА</div>
                                    <div class="bet-amount" id="slotBet">100</div>
                                </div>
                                <button class="btn-control" onclick="changeBet(100)">+</button>
                            </div>
                            
                            <button class="spin-btn" id="spinBtn" onclick="spinSlots()">
                                <i class="fas fa-play"></i> КРУТИТЬ
                            </button>
                            
                            <div style="text-align: center; margin-top: 20px;">
                                <h3>Правила:</h3>
                                <p>3 одинаковых символа = выигрыш ×10 ставки<br>
                                2 одинаковых символа = выигрыш ×2 ставки<br>
                                Три семёрки = ДЖЕКПОТ ×100 ставки!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Рулетка -->
                <div id="roulette" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-dharmachakra"></i> ЕВРОПЕЙСКАЯ РУЛЕТКА</h2>
                        <p>Ставьте на числа, цвета или сектора и вращайте колесо удачи!</p>
                    </div>
                    
                    <div class="game-content">
                        <div class="roulette-container">
                            <div class="roulette-wheel" id="rouletteWheel">
                                <div class="roulette-pointer"></div>
                                <!-- Числа будут сгенерированы через JS -->
                            </div>
                            
                            <div class="bet-controls">
                                <button class="btn-control" onclick="changeRouletteBet(-50)">-</button>
                                <div>
                                    <div style="font-size: 14px; opacity: 0.7;">СТАВКА</div>
                                    <div class="bet-amount" id="rouletteBet">100</div>
                                </div>
                                <button class="btn-control" onclick="changeRouletteBet(50)">+</button>
                                <button class="game-btn primary" onclick="spinRoulette()" style="margin-left: 20px;">
                                    <i class="fas fa-play"></i> ВРАЩАТЬ
                                </button>
                            </div>
                            
                            <div style="text-align: center; width: 100%;">
                                <h3>Выберите ставку:</h3>
                                <div class="betting-grid" id="bettingGrid">
                                    <!-- Ставки будут сгенерированы через JS -->
                                </div>
                                <div style="margin-top: 20px; color: var(--casino-gold);">
                                    <div>Выбранная ставка: <span id="selectedBet">Не выбрана</span></div>
                                    <div>Коэффициент: <span id="betMultiplier">0</span>x</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Блекджек -->
                <div id="blackjack" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-club"></i> БЛЕКДЖЕК</h2>
                        <p>Наберите 21 очко или близко к нему, но не переборщите!</p>
                    </div>
                    
                    <div class="game-content">
                        <div class="blackjack-container">
                            <div class="cards-area">
                                <div class="dealer-area">
                                    <h3>Дилер</h3>
                                    <div class="card-hand" id="dealerHand">
                                        <div class="card card-back"></div>
                                        <div class="card card-back"></div>
                                    </div>
                                    <div>Счет: <span id="dealerScore">?</span></div>
                                </div>
                                
                                <div class="player-area">
                                    <h3>Игрок</h3>
                                    <div class="card-hand" id="playerHand">
                                        <div class="card card-back"></div>
                                        <div class="card card-back"></div>
                                    </div>
                                    <div>Счет: <span id="playerScore">?</span></div>
                                </div>
                            </div>
                            
                            <div class="bet-controls">
                                <button class="btn-control" onclick="changeBlackjackBet(-50)">-</button>
                                <div>
                                    <div style="font-size: 14px; opacity: 0.7;">СТАВКА</div>
                                    <div class="bet-amount" id="blackjackBet">100</div>
                                </div>
                                <button class="btn-control" onclick="changeBlackjackBet(50)">+</button>
                            </div>
                            
                            <div class="blackjack-controls">
                                <button class="game-btn primary" id="dealBtn" onclick="dealBlackjack()">
                                    <i class="fas fa-play"></i> НАЧАТЬ ИГРУ
                                </button>
                                <button class="game-btn success" id="hitBtn" onclick="hitCard()" disabled>
                                    <i class="fas fa-plus"></i> ЕЩЕ КАРТУ
                                </button>
                                <button class="game-btn danger" id="standBtn" onclick="stand()" disabled>
                                    <i class="fas fa-hand"></i> ХВАТИТ
                                </button>
                                <button class="game-btn" id="doubleBtn" onclick="doubleDown()" disabled>
                                    <i class="fas fa-times-two"></i> УДВОИТЬ
                                </button>
                            </div>
                            
                            <div style="text-align: center; margin-top: 20px;">
                                <h3>Правила:</h3>
                                <p>Цель - набрать ближе к 21 чем дилер. Туз = 1 или 11, картинки = 10.<br>
                                Блекджек (туз + 10) = выигрыш ×1.5. Удвоение доступно на первых двух картах.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Кости -->
                <div id="dice" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-dice"></i> ИГРА В КОСТИ</h2>
                        <p>Бросьте кости и угадайте результат!</p>
                    </div>
                    
                    <div class="game-content">
                        <div class="dice-container">
                            <div class="dice-area">
                                <div class="dice" id="dice1">
                                    <!-- Точки будут через JS -->
                                </div>
                                <div class="dice" id="dice2">
                                    <!-- Точки будут через JS -->
                                </div>
                            </div>
                            
                            <div class="dice-result" id="diceResult">?</div>
                            
                            <div class="bet-controls">
                                <button class="btn-control" onclick="changeDiceBet(-50)">-</button>
                                <div>
                                    <div style="font-size: 14px; opacity: 0.7;">СТАВКА</div>
                                    <div class="bet-amount" id="diceBet">100</div>
                                </div>
                                <button class="btn-control" onclick="changeDiceBet(50)">+</button>
                            </div>
                            
                            <div style="text-align: center; width: 100%;">
                                <h3>Выберите ставку:</h3>
                                <div style="display: flex; gap: 15px; justify-content: center; margin: 20px 0;">
                                    <button class="game-btn" onclick="setDiceBetType('low')">Меньше 7 (×2)</button>
                                    <button class="game-btn primary" onclick="setDiceBetType('7')">Ровно 7 (×5)</button>
                                    <button class="game-btn" onclick="setDiceBetType('high')">Больше 7 (×2)</button>
                                </div>
                                
                                <button class="spin-btn" onclick="rollDice()" style="margin-top: 20px;">
                                    <i class="fas fa-dice"></i> БРОСИТЬ КОСТИ
                                </button>
                                
                                <div style="margin-top: 30px;">
                                    <div>Текущая ставка: <span id="diceBetType">Не выбрана</span></div>
                                    <div>Коэффициент: <span id="diceMultiplier">0</span>x</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- История -->
                <div id="history" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-history"></i> ИСТОРИЯ ИГР</h2>
                        <p>Ваша статистика и последние игры</p>
                    </div>
                    
                    <div class="game-content">
                        <table class="history-table">
                            <thead>
                                <tr>
                                    <th>Дата</th>
                                    <th>Игра</th>
                                    <th>Ставка</th>
                                    <th>Результат</th>
                                    <th>Выигрыш</th>
                                </tr>
                            </thead>
                            <tbody id="historyTable">
                                <!-- История будет загружена через JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Достижения -->
                <div id="achievements" class="game-page">
                    <div class="game-header-page">
                        <h2><i class="fas fa-trophy"></i> ДОСТИЖЕНИЯ</h2>
                        <p>Зарабатывайте достижения и получайте бонусы!</p>
                    </div>
                    
                    <div class="game-content">
                        <div class="achievements-grid" id="achievementsGrid">
                            <!-- Достижения будут загружены через JS -->
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-links">
                <a href="#">Правила</a>
                <a href="#">Поддержка</a>
                <a href="#">Ответственная игра</a>
                <a href="#">О нас</a>
            </div>
            <p>© 2023 Lucky Penguin Casino. Все права защищены. | Играйте ответственно. 18+</p>
            <p>Это демонстрационная игра. Настоящие деньги не используются.</p>
        </footer>
    </div>

    <!-- Уведомление -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <div class="notification-content">
            <h4 id="notificationTitle">Успех!</h4>
            <p id="notificationMessage">Операция выполнена успешно</p>
        </div>
    </div>

    <!-- Модальное окно выигрыша -->
    <div class="modal" id="winModal">
        <div class="modal-content">
            <h2><i class="fas fa-trophy"></i> ПОБЕДА!</h2>
            <p id="winMessage">Вы выиграли 1000 ₿!</p>
            <button class="bonus-btn" onclick="closeModal()" style="margin-top: 20px;">
                <i class="fas fa-check"></i> ПРОДОЛЖИТЬ
            </button>
        </div>
    </div>

    <script>
        // Основные переменные состояния
        let state = {
            balance: 10000,
            level: 1,
            wins: 0,
            totalWagered: 0,
            dailyBonusAvailable: true,
            lastBonusDate: null,
            achievements: {
                firstWin: { unlocked: false, progress: 0, target: 1 },
                bigWinner: { unlocked: false, progress: 0, target: 10000 },
                slotsMaster: { unlocked: false, progress: 0, target: 100 },
                rouletteKing: { unlocked: false, progress: 0, target: 50 },
                blackjackPro: { unlocked: false, progress: 0, target: 25 },
                diceExpert: { unlocked: false, progress: 0, target: 50 }
            },
            gameHistory: [],
            currentGame: null,
            soundsEnabled: true
        };

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            loadGameState();
            updateUI();
            initRoulette();
            updateBonusTimer();
            loadHistory();
            loadAchievements();
            
            // Автосохранение каждые 30 секунд
            setInterval(saveGameState, 30000);
        });

        // Загрузка состояния из localStorage
        function loadGameState() {
            const saved = localStorage.getItem('casinoState');
            if (saved) {
                const parsed = JSON.parse(saved);
                state = { ...state, ...parsed };
            }
        }

        // Сохранение состояния в localStorage
        function saveGameState() {
            localStorage.setItem('casinoState', JSON.stringify(state));
        }

        // Обновление интерфейса
        function updateUI() {
            document.getElementById('balance').textContent = formatNumber(state.balance);
            document.getElementById('level').textContent = state.level;
            document.getElementById('wins').textContent = state.wins;
            
            // Обновляем кнопку бонуса
            const bonusBtn = document.getElementById('dailyBonus');
            if (!state.dailyBonusAvailable) {
                bonusBtn.disabled = true;
                bonusBtn.innerHTML = '<i class="fas fa-clock"></i> Уже получен';
            }
        }

        // Форматирование чисел
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Навигация по страницам
        function showPage(pageId) {
            // Скрываем все страницы
            document.querySelectorAll('.game-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Показываем выбранную страницу
            document.getElementById(pageId).classList.add('active');
            
            // Обновляем активную кнопку меню
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Находим кнопку для этой страницы
            let targetBtn = null;
            switch(pageId) {
                case 'dashboard': targetBtn = document.querySelector('.menu-btn:nth-child(1)'); break;
                case 'slots': targetBtn = document.querySelector('.menu-btn:nth-child(2)'); break;
                case 'roulette': targetBtn = document.querySelector('.menu-btn:nth-child(3)'); break;
                case 'blackjack': targetBtn = document.querySelector('.menu-btn:nth-child(4)'); break;
                case 'dice': targetBtn = document.querySelector('.menu-btn:nth-child(5)'); break;
                case 'history': targetBtn = document.querySelector('.menu-btn:nth-child(6)'); break;
                case 'achievements': targetBtn = document.querySelector('.menu-btn:nth-child(7)'); break;
            }
            
            if (targetBtn) targetBtn.classList.add('active');
        }

        // Уведомления
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const icon = notification.querySelector('i');
            
            // Устанавливаем иконку в зависимости от типа
            if (type === 'success') {
                icon.className = 'fas fa-check-circle';
                notification.style.background = 'linear-gradient(135deg, var(--casino-green), var(--primary))';
            } else if (type === 'error') {
                icon.className = 'fas fa-exclamation-circle';
                notification.style.background = 'linear-gradient(135deg, var(--casino-red), #fd7e14)';
            } else if (type === 'info') {
                icon.className = 'fas fa-info-circle';
                notification.style.background = 'linear-gradient(135deg, var(--primary), var(--casino-purple))';
            }
            
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            
            notification.classList.add('show');
            
            // Автоматическое скрытие через 5 секунд
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Модальное окно
        function showWinModal(amount, message) {
            document.getElementById('winMessage').textContent = message || `Вы выиграли ${formatNumber(amount)} ₿!`;
            document.getElementById('winModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('winModal').classList.remove('show');
        }

        // Ежедневный бонус
        function claimDailyBonus() {
            if (!state.dailyBonusAvailable) {
                showNotification('Бонус уже получен', 'Возвращайтесь завтра!', 'info');
                return;
            }
            
            const bonusAmount = 500;
            state.balance += bonusAmount;
            state.dailyBonusAvailable = false;
            state.lastBonusDate = new Date().toISOString();
            
            updateUI();
            saveGameState();
            showNotification('Бонус получен!', `+${bonusAmount} ₿ добавлено на баланс`);
            
            // Обновляем прогресс достижений
            updateAchievementProgress('bigWinner', bonusAmount);
        }

        // Таймер до следующего бонуса
        function updateBonusTimer() {
            const timerElement = document.getElementById('bonusTimer');
            
            if (state.dailyBonusAvailable) {
                timerElement.textContent = 'Доступно сейчас!';
                return;
            }
            
            if (!state.lastBonusDate) {
                timerElement.textContent = 'Доступно сейчас!';
                state.dailyBonusAvailable = true;
                return;
            }
            
            const lastBonus = new Date(state.lastBonusDate);
            const now = new Date();
            const nextBonus = new Date(lastBonus);
            nextBonus.setDate(nextBonus.getDate() + 1);
            
            if (now >= nextBonus) {
                timerElement.textContent = 'Доступно сейчас!';
                state.dailyBonusAvailable = true;
                return;
            }
            
            const diff = nextBonus - now;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            timerElement.textContent = `Следующий бонус через: ${hours}ч ${minutes}м`;
        }

        // Обновление бонуса каждую минуту
        setInterval(updateBonusTimer, 60000);

        // ============ СЛОТЫ ============
        let slotBet = 100;
        const slotSymbols = ['7', '🍒', '⭐', '🔔', '🍋', '💎'];

        function changeBet(amount) {
            slotBet = Math.max(10, Math.min(10000, slotBet + amount));
            document.getElementById('slotBet').textContent = slotBet;
        }

        function spinSlots() {
            if (state.balance < slotBet) {
                showNotification('Недостаточно средств', 'Пополните баланс', 'error');
                return;
            }

            const spinBtn = document.getElementById('spinBtn');
            spinBtn.disabled = true;
            state.balance -= slotBet;
            updateUI();

            // Анимация вращения
            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];

            // Случайные результаты
            const results = [
                Math.floor(Math.random() * slotSymbols.length),
                Math.floor(Math.random() * slotSymbols.length),
                Math.floor(Math.random() * slotSymbols.length)
            ];

            // Анимация вращения каждого барабана
            reels.forEach((reel, index) => {
                let spins = 0;
                const totalSpins = 10 + index * 3;
                const spinInterval = setInterval(() => {
                    const randomSymbol = Math.floor(Math.random() * slotSymbols.length);
                    reel.textContent = slotSymbols[randomSymbol];
                    spins++;
                    
                    if (spins >= totalSpins) {
                        clearInterval(spinInterval);
                        reel.textContent = slotSymbols[results[index]];
                        
                        // Когда все барабаны остановились
                        if (index === 2) {
                            setTimeout(() => {
                                calculateSlotWin(results);
                                spinBtn.disabled = false;
                            }, 500);
                        }
                    }
                }, 100);
            });
        }

        function calculateSlotWin(results) {
            let winMultiplier = 0;
            let winMessage = '';
            
            // Проверка на три одинаковых
            if (results[0] === results[1] && results[1] === results[2]) {
                if (results[0] === 0) { // Три семёрки
                    winMultiplier = 100;
                    winMessage = 'ДЖЕКПОТ! ТРИ СЕМЁРКИ!';
                } else {
                    winMultiplier = 10;
                    winMessage = 'ТРИ ОДИНАКОВЫХ СИМВОЛА!';
                }
            }
            // Проверка на две одинаковых
            else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
                winMultiplier = 2;
                winMessage = 'ДВА ОДИНАКОВЫХ СИМВОЛА!';
            }

            if (winMultiplier > 0) {
                const winAmount = slotBet * winMultiplier;
                state.balance += winAmount;
                state.wins++;
                
                // Добавляем в историю
                addToHistory('Слоты', slotBet, winAmount, true);
                
                // Обновляем достижения
                updateAchievementProgress('firstWin', 1);
                updateAchievementProgress('slotsMaster', 1);
                updateAchievementProgress('bigWinner', winAmount);
                
                updateUI();
                saveGameState();
                
                if (winMultiplier >= 10) {
                    showWinModal(winAmount, winMessage);
                } else {
                    showNotification('Победа!', `Вы выиграли ${formatNumber(winAmount)} ₿`);
                }
            } else {
                addToHistory('Слоты', slotBet, 0, false);
                showNotification('Повезёт в следующий раз!', 'Попробуйте ещё раз', 'info');
            }
        }

        // ============ РУЛЕТКА ============
        let rouletteBet = 100;
        let selectedBet = null;
        let betMultiplier = 0;

        function initRoulette() {
            const wheel = document.getElementById('rouletteWheel');
            const numbers = [
                '0', '32', '15', '19', '4', '21', '2', '25', '17', '34', '6',
                '27', '13', '36', '11', '30', '8', '23', '10', '5', '24', '16',
                '33', '1', '20', '14', '31', '9', '22', '18', '29', '7', '28',
                '12', '35', '3', '26'
            ];
            
            // Создаем числа на колесе
            numbers.forEach((num, index) => {
                const angle = (index / numbers.length) * 360;
                const numberDiv = document.createElement('div');
                numberDiv.className = 'roulette-number';
                numberDiv.textContent = num;
                numberDiv.style.transform = `rotate(${angle}deg)`;
                numberDiv.style.color = (num === '0') ? 'white' : (index % 2 === 0) ? 'white' : 'black';
                numberDiv.style.background = (num === '0') ? 'green' : (index % 2 === 0) ? 'red' : 'black';
                numberDiv.dataset.number = num;
                wheel.appendChild(numberDiv);
            });
            
            // Создаем сетку ставок
            const bettingGrid = document.getElementById('bettingGrid');
            const betTypes = [
                { type: 'number', value: '0', label: '0', multiplier: 35 },
                { type: 'color', value: 'red', label: 'Красное', multiplier: 2 },
                { type: 'color', value: 'black', label: 'Черное', multiplier: 2 },
                { type: 'dozen', value: '1-12', label: '1-12', multiplier: 3 },
                { type: 'dozen', value: '13-24', label: '13-24', multiplier: 3 },
                { type: 'dozen', value: '25-36', label: '25-36', multiplier: 3 },
                { type: 'half', value: '1-18', label: '1-18', multiplier: 2 },
                { type: 'half', value: '19-36', label: '19-36', multiplier: 2 },
                { type: 'even', value: 'even', label: 'Четное', multiplier: 2 },
                { type: 'odd', value: 'odd', label: 'Нечетное', multiplier: 2 },
                { type: 'column', value: 'col1', label: '1 столбец', multiplier: 3 },
                { type: 'column', value: 'col2', label: '2 столбец', multiplier: 3 }
            ];
            
            betTypes.forEach(bet => {
                const cell = document.createElement('div');
                cell.className = 'bet-cell';
                cell.textContent = bet.label;
                cell.dataset.type = bet.type;
                cell.dataset.value = bet.value;
                cell.dataset.multiplier = bet.multiplier;
                cell.onclick = () => selectRouletteBet(bet.type, bet.value, bet.multiplier, cell);
                bettingGrid.appendChild(cell);
            });
        }

        function changeRouletteBet(amount) {
            rouletteBet = Math.max(10, Math.min(10000, rouletteBet + amount));
            document.getElementById('rouletteBet').textContent = rouletteBet;
        }

        function selectRouletteBet(type, value, multiplier, element) {
            // Сбрасываем предыдущий выбор
            document.querySelectorAll('.bet-cell').forEach(cell => {
                cell.classList.remove('selected');
            });
            
            // Выбираем новую ставку
            element.classList.add('selected');
            selectedBet = { type, value, multiplier };
            betMultiplier = multiplier;
            
            document.getElementById('selectedBet').textContent = element.textContent;
            document.getElementById('betMultiplier').textContent = multiplier;
        }

        function spinRoulette() {
            if (!selectedBet) {
                showNotification('Выберите ставку', 'Выберите тип ставки на сетке', 'error');
                return;
            }

            if (state.balance < rouletteBet) {
                showNotification('Недостаточно средств', 'Пополните баланс', 'error');
                return;
            }

            const spinBtn = document.querySelector('#roulette .game-btn');
            spinBtn.disabled = true;
            state.balance -= rouletteBet;
            updateUI();

            // Случайное число от 0 до 36
            const winningNumber = Math.floor(Math.random() * 37);
            const isRed = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(winningNumber);
            const isBlack = [2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35].includes(winningNumber);
            const isEven = winningNumber % 2 === 0 && winningNumber !== 0;
            const isOdd = winningNumber % 2 === 1;

            // Определяем выигрыш
            let isWin = false;
            switch(selectedBet.type) {
                case 'number':
                    isWin = winningNumber.toString() === selectedBet.value;
                    break;
                case 'color':
                    if (selectedBet.value === 'red') isWin = isRed;
                    if (selectedBet.value === 'black') isWin = isBlack;
                    break;
                case 'dozen':
                    const dozen = parseInt(selectedBet.value.split('-')[0]);
                    isWin = winningNumber >= dozen && winningNumber <= dozen + 11;
                    break;
                case 'half':
                    const half = parseInt(selectedBet.value.split('-')[0]);
                    isWin = winningNumber >= half && winningNumber <= half + 17;
                    break;
                case 'even':
                    isWin = isEven;
                    break;
                case 'odd':
                    isWin = isOdd;
                    break;
                case 'column':
                    const colStart = selectedBet.value === 'col1' ? 1 : selectedBet.value === 'col2' ? 2 : 3;
                    isWin = winningNumber % 3 === colStart % 3 && winningNumber !== 0;
                    break;
            }

            // Анимация вращения
            const wheel = document.getElementById('rouletteWheel');
            const spins = 5 + Math.random() * 3; // 5-8 полных оборотов
            const targetAngle = (winningNumber / 37) * 360;
            const totalRotation = spins * 360 + targetAngle;
            
            wheel.style.transition = 'transform 5s cubic-bezier(0.1, 0.7, 0.1, 1)';
            wheel.style.transform = `rotate(${totalRotation}deg)`;

            setTimeout(() => {
                if (isWin) {
                    const winAmount = rouletteBet * betMultiplier;
                    state.balance += winAmount;
                    state.wins++;
                    
                    addToHistory('Рулетка', rouletteBet, winAmount, true);
                    updateAchievementProgress('rouletteKing', 1);
                    updateAchievementProgress('bigWinner', winAmount);
                    
                    updateUI();
                    saveGameState();
                    
                    showNotification('Победа!', `Выпало ${winningNumber}. Вы выиграли ${formatNumber(winAmount)} ₿`);
                } else {
                    addToHistory('Рулетка', rouletteBet, 0, false);
                    showNotification('Повезёт в следующий раз', `Выпало ${winningNumber}`, 'info');
                }
                
                spinBtn.disabled = false;
                wheel.style.transition = 'none';
                wheel.style.transform = 'rotate(0deg)';
                setTimeout(() => {
                    wheel.style.transition = 'transform 5s cubic-bezier(0.1, 0.7, 0.1, 1)';
                }, 50);
            }, 5000);
        }

        // ============ БЛЕКДЖЕК ============
        let blackjackBet = 100;
        let blackjackGame = {
            deck: [],
            playerCards: [],
            dealerCards: [],
            gameActive: false,
            playerStand: false
        };

        function changeBlackjackBet(amount) {
            blackjackBet = Math.max(10, Math.min(10000, blackjackBet + amount));
            document.getElementById('blackjackBet').textContent = blackjackBet;
        }

        function createDeck() {
            const suits = ['♠', '♣', '♥', '♦'];
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            const deck = [];
            
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({ suit, value });
                }
            }
            
            // Тасовка колоды
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            
            return deck;
        }

        function getCardValue(card) {
            if (['J', 'Q', 'K'].includes(card.value)) return 10;
            if (card.value === 'A') return 11; // Обработка туза позже
            return parseInt(card.value);
        }

        function calculateHandValue(cards) {
            let value = 0;
            let aces = 0;
            
            for (let card of cards) {
                if (card.value === 'A') {
                    aces++;
                    value += 11;
                } else {
                    value += getCardValue(card);
                }
            }
            
            // Обработка тузов
            while (value > 21 && aces > 0) {
                value -= 10;
                aces--;
            }
            
            return value;
        }

        function dealBlackjack() {
            if (state.balance < blackjackBet) {
                showNotification('Недостаточно средств', 'Пополните баланс', 'error');
                return;
            }

            // Сброс предыдущей игры
            blackjackGame = {
                deck: createDeck(),
                playerCards: [],
                dealerCards: [],
                gameActive: true,
                playerStand: false
            };

            state.balance -= blackjackBet;
            updateUI();

            // Раздача карт
            blackjackGame.playerCards.push(blackjackGame.deck.pop());
            blackjackGame.dealerCards.push(blackjackGame.deck.pop());
            blackjackGame.playerCards.push(blackjackGame.deck.pop());
            blackjackGame.dealerCards.push(blackjackGame.deck.pop());

            updateBlackjackUI();
            
            // Проверка на блекджек
            const playerValue = calculateHandValue(blackjackGame.playerCards);
            const dealerValue = calculateHandValue([blackjackGame.dealerCards[0]]);
            
            if (playerValue === 21) {
                // Блекджек игрока
                endBlackjackGame('blackjack');
                return;
            }

            // Активируем кнопки управления
            document.getElementById('hitBtn').disabled = false;
            document.getElementById('standBtn').disabled = false;
            document.getElementById('doubleBtn').disabled = false;
            document.getElementById('dealBtn').disabled = true;
            document.getElementById('dealBtn').innerHTML = '<i class="fas fa-sync"></i> НОВАЯ ИГРА';
        }

        function updateBlackjackUI() {
            const playerHand = document.getElementById('playerHand');
            const dealerHand = document.getElementById('dealerHand');
            
            // Обновляем карты игрока
            playerHand.innerHTML = '';
            blackjackGame.playerCards.forEach(card => {
                const cardDiv = document.createElement('div');
                cardDiv.className = `card ${['♥', '♦'].includes(card.suit) ? 'red' : 'black'}`;
                cardDiv.innerHTML = `<div>${card.value}</div><div style="font-size: 12px;">${card.suit}</div>`;
                playerHand.appendChild(cardDiv);
            });
            
            // Обновляем карты дилера
            dealerHand.innerHTML = '';
            blackjackGame.dealerCards.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                if (index === 0 && !blackjackGame.playerStand) {
                    cardDiv.className = 'card card-back';
                } else {
                    cardDiv.className = `card ${['♥', '♦'].includes(card.suit) ? 'red' : 'black'}`;
                    cardDiv.innerHTML = `<div>${card.value}</div><div style="font-size: 12px;">${card.suit}</div>`;
                }
                dealerHand.appendChild(cardDiv);
            });
            
            // Обновляем счет
            document.getElementById('playerScore').textContent = 
                blackjackGame.gameActive && !blackjackGame.playerStand ? 
                calculateHandValue(blackjackGame.playerCards) : '?';
            
            document.getElementById('dealerScore').textContent = 
                blackjackGame.playerStand ? 
                calculateHandValue(blackjackGame.dealerCards) : 
                (blackjackGame.dealerCards.length > 0 ? 
                    calculateHandValue([blackjackGame.dealerCards[0]]) : '?');
        }

        function hitCard() {
            if (!blackjackGame.gameActive) return;
            
            blackjackGame.playerCards.push(blackjackGame.deck.pop());
            updateBlackjackUI();
            
            const playerValue = calculateHandValue(blackjackGame.playerCards);
            
            if (playerValue > 21) {
                endBlackjackGame('bust');
            }
        }

        function stand() {
            if (!blackjackGame.gameActive) return;
            
            blackjackGame.playerStand = true;
            document.getElementById('hitBtn').disabled = true;
            document.getElementById('doubleBtn').disabled = true;
            
            // Дилер берет карты
            let dealerValue = calculateHandValue(blackjackGame.dealerCards);
            while (dealerValue < 17) {
                blackjackGame.dealerCards.push(blackjackGame.deck.pop());
                dealerValue = calculateHandValue(blackjackGame.dealerCards);
            }
            
            updateBlackjackUI();
            setTimeout(() => endBlackjackGame('stand'), 500);
        }

        function doubleDown() {
            if (state.balance < blackjackBet) {
                showNotification('Недостаточно средств', 'Нельзя удвоить ставку', 'error');
                return;
            }
            
            state.balance -= blackjackBet;
            updateUI();
            blackjackBet *= 2;
            document.getElementById('blackjackBet').textContent = blackjackBet;
            
            hitCard();
            if (blackjackGame.gameActive) {
                stand();
            }
        }

        function endBlackjackGame(result) {
            blackjackGame.gameActive = false;
            
            const playerValue = calculateHandValue(blackjackGame.playerCards);
            const dealerValue = calculateHandValue(blackjackGame.dealerCards);
            
            let winAmount = 0;
            let message = '';
            
            switch(result) {
                case 'blackjack':
                    winAmount = blackjackBet * 2.5; // Блекджек выплачивает 3:2
                    message = 'БЛЭКДЖЕК!';
                    break;
                case 'bust':
                    message = 'Перебор! Вы проиграли';
                    break;
                case 'stand':
                    if (dealerValue > 21 || playerValue > dealerValue) {
                        winAmount = blackjackBet * 2;
                        message = 'Вы победили!';
                    } else if (playerValue === dealerValue) {
                        winAmount = blackjackBet;
                        message = 'Ничья! Ставка возвращена';
                    } else {
                        message = 'Дилер победил';
                    }
                    break;
            }
            
            // Обновляем UI
            updateBlackjackUI();
            document.getElementById('hitBtn').disabled = true;
            document.getElementById('standBtn').disabled = true;
            document.getElementById('doubleBtn').disabled = true;
            document.getElementById('dealBtn').disabled = false;
            
            // Обновляем баланс и историю
            if (winAmount > 0) {
                state.balance += winAmount;
                state.wins++;
                
                addToHistory('Блекджек', blackjackBet, winAmount - blackjackBet, true);
                updateAchievementProgress('blackjackPro', 1);
                updateAchievementProgress('bigWinner', winAmount - blackjackBet);
                
                showNotification('Победа!', `${message} Вы выиграли ${formatNumber(winAmount - blackjackBet)} ₿`);
            } else {
                addToHistory('Блекджек', blackjackBet, 0, false);
                showNotification('Игра окончена', message, 'info');
            }
            
            updateUI();
            saveGameState();
        }

        // ============ КОСТИ ============
        let diceBet = 100;
        let diceBetType = null;
        let diceMultiplier = 0;

        function changeDiceBet(amount) {
            diceBet = Math.max(10, Math.min(10000, diceBet + amount));
            document.getElementById('diceBet').textContent = diceBet;
        }

        function setDiceBetType(type) {
            diceBetType = type;
            
            // Обновляем UI
            let label = '';
            switch(type) {
                case 'low': label = 'Меньше 7'; diceMultiplier = 2; break;
                case '7': label = 'Ровно 7'; diceMultiplier = 5; break;
                case 'high': label = 'Больше 7'; diceMultiplier = 2; break;
            }
            
            document.getElementById('diceBetType').textContent = label;
            document.getElementById('diceMultiplier').textContent = diceMultiplier;
            
            showNotification('Ставка установлена', `${label} (×${diceMultiplier})`, 'info');
        }

        function rollDice() {
            if (!diceBetType) {
                showNotification('Выберите ставку', 'Выберите тип ставки', 'error');
                return;
            }

            if (state.balance < diceBet) {
                showNotification('Недостаточно средств', 'Пополните баланс', 'error');
                return;
            }

            state.balance -= diceBet;
            updateUI();

            // Бросаем кости
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const total = dice1 + dice2;

            // Анимация броска
            animateDiceRoll(dice1, dice2);

            setTimeout(() => {
                // Проверяем результат
                let isWin = false;
                switch(diceBetType) {
                    case 'low': isWin = total < 7; break;
                    case '7': isWin = total === 7; break;
                    case 'high': isWin = total > 7; break;
                }

                if (isWin) {
                    const winAmount = diceBet * diceMultiplier;
                    state.balance += winAmount;
                    state.wins++;
                    
                    addToHistory('Кости', diceBet, winAmount - diceBet, true);
                    updateAchievementProgress('diceExpert', 1);
                    updateAchievementProgress('bigWinner', winAmount - diceBet);
                    
                    updateUI();
                    saveGameState();
                    
                    showNotification('Победа!', `Выпало ${total}. Вы выиграли ${formatNumber(winAmount - diceBet)} ₿`);
                } else {
                    addToHistory('Кости', diceBet, 0, false);
                    showNotification('Повезёт в следующий раз', `Выпало ${total}`, 'info');
                }
            }, 1500);
        }

        function animateDiceRoll(dice1, dice2) {
            const diceElements = [document.getElementById('dice1'), document.getElementById('dice2')];
            const results = [dice1, dice2];
            
            diceElements.forEach((dice, index) => {
                // Анимация вращения
                dice.style.transition = 'transform 1s';
                dice.style.transform = 'rotate(360deg)';
                
                // Обновляем точки через 0.5 секунды
                setTimeout(() => {
                    updateDiceFace(dice, results[index]);
                    dice.style.transform = 'rotate(0deg)';
                }, 500);
                
                // Сбрасываем анимацию
                setTimeout(() => {
                    dice.style.transition = 'none';
                }, 1500);
            });
        }

        function updateDiceFace(diceElement, value) {
            diceElement.innerHTML = '';
            
            // Расположение точек для каждого значения
            const dotPositions = {
                1: [[1, 1]],
                2: [[0, 0], [2, 2]],
                3: [[0, 0], [1, 1], [2, 2]],
                4: [[0, 0], [0, 2], [2, 0], [2, 2]],
                5: [[0, 0], [0, 2], [1, 1], [2, 0], [2, 2]],
                6: [[0, 0], [0, 1], [0, 2], [2, 0], [2, 1], [2, 2]]
            };
            
            dotPositions[value].forEach(pos => {
                const dot = document.createElement('div');
                dot.className = 'dot';
                dot.style.gridColumn = pos[0] + 1;
                dot.style.gridRow = pos[1] + 1;
                diceElement.appendChild(dot);
            });
            
            // Обновляем результат
            document.getElementById('diceResult').textContent = value;
        }

        // ============ ИСТОРИЯ ============
        function addToHistory(game, bet, win, isWin) {
            const historyEntry = {
                date: new Date().toLocaleString(),
                game,
                bet,
                win,
                isWin
            };
            
            state.gameHistory.unshift(historyEntry);
            
            // Ограничиваем историю 50 записями
            if (state.gameHistory.length > 50) {
                state.gameHistory.pop();
            }
            
            saveGameState();
            loadHistory();
        }

        function loadHistory() {
            const tableBody = document.getElementById('historyTable');
            tableBody.innerHTML = '';
            
            state.gameHistory.forEach(entry => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${entry.date}</td>
                    <td>${entry.game}</td>
                    <td>${formatNumber(entry.bet)} ₿</td>
                    <td class="${entry.isWin ? 'result-win' : 'result-loss'}">
                        ${entry.isWin ? 'Победа' : 'Поражение'}
                    </td>
                    <td>${entry.isWin ? '+' + formatNumber(entry.win) + ' ₿' : '-'}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ============ ДОСТИЖЕНИЯ ============
        function updateAchievementProgress(achievementId, progress) {
            if (state.achievements[achievementId] && !state.achievements[achievementId].unlocked) {
                state.achievements[achievementId].progress += progress;
                
                if (state.achievements[achievementId].progress >= state.achievements[achievementId].target) {
                    state.achievements[achievementId].unlocked = true;
                    state.achievements[achievementId].progress = state.achievements[achievementId].target;
                    
                    // Награда за достижение
                    let reward = 0;
                    switch(achievementId) {
                        case 'firstWin': reward = 1000; break;
                        case 'bigWinner': reward = 5000; break;
                        case 'slotsMaster': reward = 2000; break;
                        case 'rouletteKing': reward = 2000; break;
                        case 'blackjackPro': reward = 3000; break;
                        case 'diceExpert': reward = 2000; break;
                    }
                    
                    state.balance += reward;
                    updateUI();
                    showNotification('Достижение разблокировано!', `+${formatNumber(reward)} ₿`, 'success');
                }
                
                saveGameState();
                loadAchievements();
            }
        }

        function loadAchievements() {
            const grid = document.getElementById('achievementsGrid');
            grid.innerHTML = '';
            
            const achievements = [
                { id: 'firstWin', title: 'Первая победа', desc: 'Одержите первую победу в казино', icon: 'fa-star' },
                { id: 'bigWinner', title: 'Крупный выигрыш', desc: 'Выиграйте 10,000 ₿ всего', icon: 'fa-trophy' },
                { id: 'slotsMaster', title: 'Мастер слотов', desc: 'Сыграйте 100 раз в слоты', icon: 'fa-slot-machine' },
                { id: 'rouletteKing', title: 'Король рулетки', desc: 'Сыграйте 50 раз в рулетку', icon: 'fa-dharmachakra' },
                { id: 'blackjackPro', title: 'Профи блекджека', desc: 'Сыграйте 25 раз в блекджек', icon: 'fa-club' },
                { id: 'diceExpert', title: 'Эксперт костей', desc: 'Сыграйте 50 раз в кости', icon: 'fa-dice' }
            ];
            
            achievements.forEach(ach => {
                const achievement = state.achievements[ach.id];
                const progressPercent = (achievement.progress / achievement.target) * 100;
                
                const card = document.createElement('div');
                card.className = `achievement-card ${achievement.unlocked ? '' : 'locked'}`;
                card.innerHTML = `
                    <div class="achievement-icon">
                        <i class="fas ${ach.icon}"></i>
                    </div>
                    <div class="achievement-info">
                        <h4>${ach.title}</h4>
                        <p>${ach.desc}</p>
                        <div class="achievement-progress">
                            <div class="progress-bar" style="width: ${progressPercent}%"></div>
                        </div>
                        <div style="font-size: 12px; margin-top: 5px;">
                            ${achievement.progress}/${achievement.target} 
                            ${achievement.unlocked ? '✔ Разблокировано' : ''}
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Экспорт состояния для отладки
        window.getGameState = () => state;
        window.resetGame = () => {
            if (confirm('Сбросить весь прогресс?')) {
                localStorage.removeItem('casinoState');
                location.reload();
            }
        };
    </script>
</body>
    </html>
